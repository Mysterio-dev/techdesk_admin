(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".menu__toggle"),t=document.querySelector(".projects"),n=document.querySelector(".content");if(e&&t&&n)e.addEventListener("click",(function(){t.classList.contains("_open")?(t.classList.remove("_open"),n.classList.remove("_offset")):(t.classList.add("_open"),n.classList.add("_offset"))}));else{let e="Кнопка, боковая панель или элемент с классом content не найдены на странице.";console.log(e)}}));function t(e){const t=e.target.innerText;console.log("Новый заголовок:",t)}document.querySelectorAll(".column-header h2").forEach((e=>{e.addEventListener("input",t)}));document.querySelectorAll(".column").forEach((e=>{e.addEventListener("dragstart",a),e.addEventListener("dragenter",o),e.addEventListener("dragover",c),e.addEventListener("dragleave",s),e.addEventListener("drop",r)}));let n=null;function a(e){n=e.target,e.target.classList.add("dragging")}function o(e){e.target!==n&&e.target.classList.add("drag-enter")}function c(e){e.preventDefault()}function s(e){e.target.classList.remove("drag-enter")}function r(e){if(e.target!==n){e.target.classList.remove("drag-enter");const t=e.target;t.parentNode.insertBefore(n,t.nextSibling)}}function i(e){const t=e.target.closest(".column"),n=t.querySelector(".task-list"),a=t.querySelector(".new-task-input"),o=a.value.trim();if(""!==o){const e=document.createElement("div");e.classList.add("task"),e.setAttribute("draggable","true"),e.innerText=o,n.appendChild(e),a.value=""}}function l(e){const t=e.target;t.style.height="35px",t.style.height=t.scrollHeight+"px",t.setAttribute("value",t.value)}document.querySelectorAll(".add-task-button").forEach((e=>{e.addEventListener("click",i)}));document.querySelectorAll(".task__header-input, .task__create-input").forEach((e=>{e.addEventListener("input",l),e.style.height="35px",e.style.height=e.scrollHeight+"px",e.setAttribute("value",e.value)}));const d=document.querySelectorAll(".task__create-input");d.forEach((function(e){function t(){const t=document.createElement("button");t.classList.add("task__create-add"),t.textContent="Готово",e.parentNode.insertBefore(t,e.nextSibling),t.addEventListener("click",(function(){""!==e.value.trim()&&(console.log("Добавляем задачу:",e.value),function(e){const t=document.querySelector(".task__todolist"),n=document.createElement("div");n.classList.add("task__card");const a=document.createElement("div");a.classList.add("task__card-title"),a.textContent=e,n.appendChild(a),t.appendChild(n)}(e.value),e.value="",e.parentNode.classList.remove("_active"),t.remove(),n(),e.style.height="35px")}))}function n(){if(0===Array.from(d).filter((e=>""!==e.value.trim())).length){document.querySelectorAll(".task__create-add").forEach((e=>e.remove()))}}e.addEventListener("input",(function(){if(""!==e.value.trim()){const n=e.closest(".task__create");n.classList.contains("_active")||(n.classList.add("_active"),t())}else{const t=e.closest(".task__create");t.classList.remove("_active");const a=t.querySelector(".task__create-add");a&&(a.remove(),n())}}))})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();